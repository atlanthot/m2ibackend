<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Chat</title>
		<script src="node_modules/socket.io/node_modules/socket.io-client/socket.io.js"></script>
		<script type="text/javascript">
		
			var socket = null;
			
			function cacahueteFromServerHandler(data)
			{
				var num_cacahuete = parseInt(data);
				
				if( isNaN( num_cacahuete ) )
				{
					num_cacahuete = 0;
				}
				else
				{
					num_cacahuete++;
				}
				
				setTimeout( 
						function()
						{
							socket.emit('cacahuete_from_client', num_cacahuete);
						}, 
						50
				);
			}
		
			window.onload = function()
			{
				socket = io.connect('127.0.0.1:3000');
				
				socket.emit('cacahuete_from_client', 0);
				socket.on('cacahuete_from_server', cacahueteFromServerHandler );
			};
		
		</script>
    </head>
    <body>
    </body>
</html>